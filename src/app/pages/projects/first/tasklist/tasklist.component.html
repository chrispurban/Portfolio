  <div style="
    overflowY:auto;
    width:100%;
    height:100vh;
    max-height:100svh;
  ">
    <section
      style="
        position:sticky;
        z-index:2;
        top:0px;
      "
      class="dark"
    >

      <div style="
        height:{{view.gap}}px;
        font-style:italic;
        display:flex;
        justify-content:center;
        align-items:center;
      ">
        <span>
          <span *ngIf="!auth.loggedIn">
            Tasks are stored locally until logged in.
          </span>
          <span *ngIf="auth.userProfile$ | async as profile">
            Logged in as {{profile.name}}
          </span>
        </span>
        
      </div>

      <div
        style="
          display:flex;
          padding:0px {{(view.gap/8)}}px;
          gap:{{view.gap/4}}px;
        "
        [ngStyle.gt-md]="{
          'height':(view.gap*1.25)+'px'
        }"
        [ngStyle.lt-lg]="{
          'height':(view.gap*1.75)+'px'
        }"
      >
        <button
          style="flex:2;"
          routerLink='/home'
          color="accent"
          mat-raised-button
        >
          Return Home
        </button>
        <button
          [ngStyle.gt-md]="{'flex':2}"
          [ngStyle.md]="{'flex':3}"
          [ngStyle.lt-md]="{'flex':6}"
          (click)="taskEntry()"
          mat-raised-button
        >
          Create Task
        </button>
        <button
          style="flex:2;"
          (click)="auth.loggedIn?auth.logout():auth.login('/projects/first/tasks')"
          color="primary"
          mat-raised-button
        >
          {{auth.loggedIn?'Log Out':'Log In'}}
        </button>
      </div>

      <div
        style="
          position:absolute;
          left:0px;
          right:0px;
          height:{{view.gap/4}}px;
        "
        class="dark"
        [ngStyle.gt-md]="{'top':(view.gap*(9/4))+'px'}"
        [ngStyle.lt-lg]="{'top':(view.gap*(11/4))+'px'}"
      >
      </div>

    </section>


    <section
      style="
        display:flex;
        justifyContent:space-between;
      "
      [ngStyle.gt-md]="{
        'flexDirection':'row',
        'height':'auto'
      }"
      [ngStyle.md]="{
        'flexDirection':'row',
        'height':'calc(100vh - '+(view.gap*9/4)+'px)',
        'maxHeight':'calc(100svh - '+(view.gap*9/4)+'px)'
      }"
      [ngStyle.lt-md]="{
        'flexDirection':'column',
        'height':'calc(100vh - '+(view.gap*11/4)+'px)',
        'maxHeight':'calc(100svh - '+(view.gap*11/4)+'px)'
      }"
    >

      <div
        *ngFor="let group of 'null' | workflow"
        style="width:100%;"
      >
        <div
          style="
            padding:{{view.gap*(1/4)}}px;
            z-index:1;
            position:sticky;
          "
          class="dark"
          [ngStyle.gt-md]="{'top':(view.gap*(9/4))+'px'}"
          [ngStyle.lt-lg]="{'top':(view.gap*(11/4))+'px'}"
        >
          <div
            style="
              display:flex;
              width:100%;
              align-items:center;
              font-size:175%;
              gap:{{view.gap/8}}px;
            "
            [ngStyle.lt-md]="{
              'flexDirection':'row',
              'justify-content':'space-between',
              'height':(view.gap*(4/4))+'px'
            }"
            [ngStyle.gt-sm]="{
              'flexDirection':'column',
              'justify-content':'center',
              'height':(view.gap*(8/4))+'px'
            }"
          >
            <span style="height:{{view.gap}}px; display:flex; align-items:center;">
              {{group.icon}}
            </span>
            <span style="font-size:66%; font-weight:550;">
              {{group.name | uppercase}}
            </span>
            <span fxHide.gt-sm>
              {{group.icon}}
            </span>
          </div>
        </div>
          

        <div *ngFor="let task of tasks | match:group.id">

                <!--app-tasktile [tasque]="task"></app-tasktile-->

          <div
            class="large tile"><div
            (click)="taskDetail(task)"
            [ngStyle.gt-sm]="{'padding-top':'138px'}"
            [ngStyle.lt-md]="{'padding-top':'106px'}"
          >

            <div><div [ngStyle.gt-sm]="{'-webkit-line-clamp':'6'}" [ngStyle.lt-md]="{'-webkit-line-clamp':'4'}">
              <div style="padding-bottom:6px;">{{task.subject | uppercase}}</div>
              <span>{{task.issue}}</span>
            </div></div>

            <header *ngIf="task.deadline">
              <i *ngIf="(UI_now | date:'yyyyMMdd') < (task.deadline | date:'yyyyMMdd')">DUE IN {{task.deadline | timer | uppercase}}</i>
              <i *ngIf="(UI_now | date:'yyyyMMdd') >= (task.deadline | date:'yyyyMMdd')">OVERDUE!</i>
            </header>

          </div></div>

        </div>

      </div>

    </section>


  </div>



    <!--
    <div fxFlex *ngIf="!(tasks || errorMessage)" style="text-align:center">
        <br><mat-spinner style="margin:0 auto" color="accent"></mat-spinner>
        <br><h4>Loading . . . Please Wait</h4>
    </div>

    <div fxFlex *ngIf="errorMessage" style="text-align:center">
      <h2>Error</h2>
      <h4>{{errorMessage}}</h4>
    </div>
    -->
